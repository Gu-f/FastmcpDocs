---
title: resource_manager
sidebarTitle: resource_manager
---

# `fastmcp.resources.resource_manager`


资源管理器功能。

## Classes

### `ResourceManager` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L25" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


管理 FastMCP 资源。


**Methods:**

#### `get_resources` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L56" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_resources(self) -> dict[str, Resource]
```

获取所有已注册的资源，以 URI 为键。


#### `get_resource_templates` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L60" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_resource_templates(self) -> dict[str, ResourceTemplate]
```

获取所有已注册的模板，以 URI 模板为键。


#### `add_resource_or_template_from_fn` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L64" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
add_resource_or_template_from_fn(self, fn: Callable[..., Any], uri: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> Resource | ResourceTemplate
```

从函数向管理器添加资源或模板。

**参数：**
- `fn`: 要注册为资源或模板的函数
- `uri`: 资源或模板的 URI
- `name`: 资源或模板的可选名称
- `description`: 资源或模板的可选描述
- `mime_type`: 资源或模板的可选 MIME 类型
- `tags`: 用于分类资源或模板的可选标签集合

**返回值：**
- 添加的资源或模板。如果已存在相同 URI 的资源或模板，
- 则返回现有的资源或模板。


#### `add_resource_from_fn` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L112" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
add_resource_from_fn(self, fn: Callable[..., Any], uri: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> Resource
```

从函数向管理器添加资源。

**参数：**
- `fn`: 要注册为资源的函数
- `uri`: 资源的 URI
- `name`: 资源的可选名称
- `description`: 资源的可选描述
- `mime_type`: 资源的可选 MIME 类型
- `tags`: 用于分类资源的可选标签集合

**返回值：**
- 添加的资源。如果已存在相同 URI 的资源，
- 则返回现有的资源。


#### `add_resource` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L152" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
add_resource(self, resource: Resource) -> Resource
```

向管理器添加资源。

**参数：**
- `resource`: 要添加的 Resource 实例。资源的 .key 属性
将用作存储键。要覆盖它，请在调用此方法前调用
Resource.model_copy(key=new_key)。


#### `add_template_from_fn` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L174" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
add_template_from_fn(self, fn: Callable[..., Any], uri_template: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> ResourceTemplate
```

从函数创建模板。


#### `add_template` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L201" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
add_template(self, template: ResourceTemplate) -> ResourceTemplate
```

向管理器添加模板。

**参数：**
- `template`: 要添加的 ResourceTemplate 实例。模板的 .key 属性
将用作存储键。要覆盖它，请在调用此方法前调用
ResourceTemplate.model_copy(key=new_key)。

**返回值：**
- 添加的模板。如果已存在相同 URI 的模板，
- 则返回现有的模板。


#### `has_resource` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L227" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
has_resource(self, uri: AnyUrl | str) -> bool
```

检查资源是否存在。


#### `get_resource` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L244" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_resource(self, uri: AnyUrl | str) -> Resource
```

通过 URI 获取资源，先检查具体资源，然后检查模板。

**参数：**
- `uri`: 要获取的资源的 URI

**异常：**
- `NotFoundError`: 如果找不到与 URI 匹配的资源或模板。


#### `read_resource` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L289" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
read_resource(self, uri: AnyUrl | str) -> str | bytes
```

服务器内部 API：查找并读取资源，遵循过滤的协议路径。

