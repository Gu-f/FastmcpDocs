---
title: run
sidebarTitle: run
---

# `fastmcp.cli.run`


具有增强类型提示的 FastMCP 运行命令实现。

## 函数

### `is_url` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L25" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
is_url(path: str) -> bool
```


检查字符串是否为 URL。


### `parse_file_path` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L31" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
parse_file_path(server_spec: str) -> tuple[Path, str | None]
```


解析可能包含服务器对象规范的文件路径。

**参数：**
- `server_spec`: 文件路径，可选择性地带有 \:object 后缀

**返回值：**
- (file_path, server_object) 的元组


### `import_server` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L62" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
import_server(file: Path, server_or_factory: str | None = None) -> Any
```


从文件导入 MCP 服务器。

**参数：**
- `file`: 文件路径
- `server_or_factory`: 可选的对象名称，格式为 "module\:object" 或仅 "object"

**返回值：**
- 服务器对象（或调用工厂函数的结果）


### `run_with_uv` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L174" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
run_with_uv(server_spec: str, python_version: str | None = None, with_packages: list[str] | None = None, with_requirements: Path | None = None, project: Path | None = None, transport: TransportType | None = None, host: str | None = None, port: int | None = None, path: str | None = None, log_level: LogLevelType | None = None, show_banner: bool = True) -> None
```


使用 uv run 子进程运行 MCP 服务器。

**参数：**
- `server_spec`: Python 文件、对象规范 (file\:obj) 或 URL
- `python_version`: 要使用的 Python 版本（例如 "3.10"）
- `with_packages`: 要安装的附加包
- `with_requirements`: 要使用的需求文件
- `project`: 在给定的项目目录中运行命令
- `transport`: 要使用的传输协议
- `host`: 使用 http 传输时绑定的主机
- `port`: 使用 http 传输时绑定的端口
- `path`: 使用 http 传输时绑定的路径
- `log_level`: 日志级别
- `show_banner`: 是否显示服务器标语


### `create_client_server` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L252" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
create_client_server(url: str) -> Any
```


从客户端 URL 创建 FastMCP 服务器。

**参数：**
- `url`: 要连接的 URL

**返回值：**
- FastMCP 服务器实例


### `create_mcp_config_server` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L272" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
create_mcp_config_server(mcp_config_path: Path) -> FastMCP[None]
```


从 MCPConfig 创建 FastMCP 服务器。


### `import_server_with_args` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L283" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
import_server_with_args(file: Path, server_or_factory: str | None = None, server_args: list[str] | None = None) -> Any
```


导入带有可选命令行参数的服务器。

**参数：**
- `file`: 服务器文件路径
- `server_or_factory`: 可选的服务器对象或工厂函数名称
- `server_args`: 可选的要注入的命令行参数

**返回值：**
- 导入的服务器对象


### `run_command` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L309" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
run_command(server_spec: str, transport: TransportType | None = None, host: str | None = None, port: int | None = None, path: str | None = None, log_level: LogLevelType | None = None, server_args: list[str] | None = None, show_banner: bool = True, use_direct_import: bool = False) -> None
```


运行 MCP 服务器或连接到远程服务器。

**参数：**
- `server_spec`: Python 文件、对象规范 (file\:obj)、MCPConfig 文件或 URL
- `transport`: 要使用的传输协议
- `host`: 使用 http 传输时绑定的主机
- `port`: 使用 http 传输时绑定的端口
- `path`: 使用 http 传输时绑定的路径
- `log_level`: 日志级别
- `server_args`: 传递给服务器的附加参数
- `show_banner`: 是否显示服务器标语
- `use_direct_import`: 是否使用直接导入而不是子进程


### `run_v1_server` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L374" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
run_v1_server(server: FastMCP1x, host: str | None = None, port: int | None = None, transport: TransportType | None = None) -> None
```
