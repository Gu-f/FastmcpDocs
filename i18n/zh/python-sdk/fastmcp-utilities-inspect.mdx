---
title: inspect
sidebarTitle: inspect
---

# `fastmcp.utilities.inspect`


用于检查 FastMCP 实例的实用程序。

## 函数

### `inspect_fastmcp_v2` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L98" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
inspect_fastmcp_v2(mcp: FastMCP[Any]) -> FastMCPInfo
```


从 FastMCP v2.x 实例中提取信息。

**参数：**
- `mcp`: 要检查的 FastMCP v2.x 实例

**返回值：**
- 包含提取信息的 FastMCPInfo 数据类


### `inspect_fastmcp_v1` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L215" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
inspect_fastmcp_v1(mcp: FastMCP1x) -> FastMCPInfo
```


使用客户端从 FastMCP v1.x 实例中提取信息。

**参数：**
- `mcp`: 要检查的 FastMCP v1.x 实例

**返回值：**
- 包含提取信息的 FastMCPInfo 数据类


### `inspect_fastmcp` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L336" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
inspect_fastmcp(mcp: FastMCP[Any] | FastMCP1x) -> FastMCPInfo
```


将 FastMCP 实例的信息提取到数据类中。

此函数会自动检测实例是 FastMCP v1.x 还是 v2.x，
并使用适当的提取方法。

**参数：**
- `mcp`: 要检查的 FastMCP 实例（v1.x 或 v2.x）

**返回值：**
- 包含提取信息的 FastMCPInfo 数据类


### `format_fastmcp_info` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L361" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
format_fastmcp_info(info: FastMCPInfo) -> bytes
```


将 FastMCPInfo 格式化为 FastMCP 特定的 JSON。

这包括 FastMCP 特定字段，如标签、启用、注释等。


### `format_mcp_info` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L388" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
format_mcp_info(mcp: FastMCP[Any] | FastMCP1x) -> bytes
```


将服务器信息格式化为标准 MCP 协议 JSON。

使用 Client 获取带有 camelCase 字段的标准 MCP 协议格式。
在顶级包含版本元数据。


### `format_info` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L421" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
format_info(mcp: FastMCP[Any] | FastMCP1x, format: InspectFormat | Literal['fastmcp', 'mcp'], info: FastMCPInfo | None = None) -> bytes
```


按照指定格式格式化服务器信息。

**参数：**
- `mcp`: FastMCP 实例
- `format`: 输出格式（"fastmcp" 或 "mcp"）
- `info`: 预提取的 FastMCPInfo（可选，如未提供则将被提取）

**返回值：**
- 请求格式的 JSON 字节


## 类

### `ToolInfo` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L19" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


关于工具的信息。


### `PromptInfo` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L35" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


关于提示的信息。


### `ResourceInfo` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L49" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


关于资源的信息。


### `TemplateInfo` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L65" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


关于资源模板的信息。


### `FastMCPInfo` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L82" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


从 FastMCP 实例中提取的信息。


### `InspectFormat` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L354" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


inspect命令输出格式.

