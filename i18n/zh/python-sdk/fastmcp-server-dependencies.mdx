---
title: dependencies
sidebarTitle: dependencies
---

# `fastmcp.server.dependencies`

## 函数

### `get_context` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L27" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_context() -> Context
```

### `get_http_request` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L39" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_http_request() -> Request
```

### `get_http_headers` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L53" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_http_headers(include_all: bool = False) -> dict[str, str]
```


从当前 HTTP 请求中提取头部（如果可用）。

即使没有活动的 HTTP 请求（在这种情况下
返回空字典），也不会抛出异常。

默认情况下，会剥离像 `content-length` 这样的有问题的头部，这些头部如果转发给下游客户端会导致问题。
如果 `include_all` 为 True，则返回所有头部。


### `get_access_token` <sup><a href="https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L102" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_access_token() -> AccessToken | None
```


从当前上下文获取 FastMCP 访问令牌。

**返回值：**
- 如果有已认证的用户可用，则返回访问令牌，否则返回 None。

