---
title: Gemini SDK ğŸ¤ FastMCP
sidebarTitle: Gemini SDK
description: å°† FastMCP æœåŠ¡å™¨è¿æ¥åˆ° Google Gemini SDK ä¸­
icon: message-code
---

import { VersionBadge } from "/snippets/version-badge.mdx"

Google çš„ Gemini API åœ¨å…¶ Python å’Œ JavaScript SDK ä¸­åŒ…å«å¯¹ MCP æœåŠ¡å™¨çš„å†…ç½®æ”¯æŒï¼Œå…è®¸æ‚¨ç›´æ¥è¿æ¥åˆ° MCP æœåŠ¡å™¨ï¼Œå¹¶ä¸ Gemini æ¨¡å‹æ— ç¼ä½¿ç”¨å®ƒä»¬çš„å·¥å…·ã€‚

## Gemini Python SDK

Google çš„ [Gemini Python SDK](https://ai.google.dev/gemini-api/docs) å¯ä»¥ç›´æ¥ä½¿ç”¨ FastMCP å®¢æˆ·ç«¯ã€‚

<Note>
Google çš„ MCP é›†æˆç›®å‰æ˜¯å®éªŒæ€§çš„ï¼Œåœ¨ Python å’Œ JavaScript SDK ä¸­å¯ç”¨ã€‚API ä¼šåœ¨éœ€è¦æ—¶è‡ªåŠ¨è°ƒç”¨ MCP å·¥å…·ï¼Œå¹¶å¯ä»¥è¿æ¥åˆ°æœ¬åœ°å’Œè¿œç¨‹ MCP æœåŠ¡å™¨ã€‚
</Note>

<Tip>
ç›®å‰ï¼ŒGemini çš„ MCP æ”¯æŒä»…è®¿é—® MCP æœåŠ¡å™¨çš„**å·¥å…·**â€”â€”å®ƒæŸ¥è¯¢ `list_tools` ç«¯ç‚¹å¹¶å°†è¿™äº›åŠŸèƒ½æš´éœ²ç»™ AIã€‚ç›®å‰ä¸æ”¯æŒå…¶ä»– MCP åŠŸèƒ½ï¼Œå¦‚èµ„æºå’Œæç¤ºã€‚
</Tip>

### åˆ›å»ºæœåŠ¡å™¨

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«æ‚¨è¦æš´éœ²çš„å·¥å…·çš„ FastMCP æœåŠ¡å™¨ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¸¦æœ‰æ·éª°å­å•ä¸€å·¥å…·çš„æœåŠ¡å™¨ã€‚

```python server.py
import random
from fastmcp import FastMCP

mcp = FastMCP(name="éª°å­æŠ•æ·å™¨")

@mcp.tool
def roll_dice(n_dice: int) -> list[int]:
    """æ· `n_dice` ä¸ªå…­é¢éª°å­å¹¶è¿”å›ç»“æœã€‚"""
    return [random.randint(1, 6) for _ in range(n_dice)]

if __name__ == "__main__":
    mcp.run()
```

### è°ƒç”¨æœåŠ¡å™¨


è¦å°† Gemini API ä¸ MCP ä¸€èµ·ä½¿ç”¨ï¼Œæ‚¨éœ€è¦å®‰è£… Google Generative AI SDKï¼š

```bash
pip install google-genai
```

æ‚¨è¿˜éœ€è¦é€šè¿‡ Google è¿›è¡Œèº«ä»½éªŒè¯ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½® `GEMINI_API_KEY` ç¯å¢ƒå˜é‡æ¥å®Œæˆæ­¤æ“ä½œã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥é˜… Gemini SDK æ–‡æ¡£ã€‚

```bash
export GEMINI_API_KEY="your-api-key"
```

Gemini çš„ SDK ç›´æ¥ä¸ MCP å®¢æˆ·ç«¯ä¼šè¯äº¤äº’ã€‚è¦è°ƒç”¨æœåŠ¡å™¨ï¼Œæ‚¨éœ€è¦å®ä¾‹åŒ–ä¸€ä¸ª FastMCP å®¢æˆ·ç«¯ï¼Œè¿›å…¥å…¶è¿æ¥ä¸Šä¸‹æ–‡ï¼Œå¹¶å°†å®¢æˆ·ç«¯ä¼šè¯ä¼ é€’ç»™ Gemini SDKã€‚

```python {5, 9, 15}
from fastmcp import Client
from google import genai
import asyncio

mcp_client = Client("server.py")
gemini_client = genai.Client()

async def main():    
    async with mcp_client:
        response = await gemini_client.aio.models.generate_content(
            model="gemini-2.0-flash",
            contents="æŠ•æ· 3 ä¸ªéª°å­ï¼",
            config=genai.types.GenerateContentConfig(
                temperature=0,
                tools=[mcp_client.session],  # ä¼ é€’ FastMCP å®¢æˆ·ç«¯ä¼šè¯
            ),
        )
        print(response.text)

if __name__ == "__main__":
    asyncio.run(main())
```

å¦‚æœæ‚¨è¿è¡Œæ­¤ä»£ç ï¼Œæ‚¨å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š

```text
å¥½çš„ï¼Œæˆ‘æŠ•æ·äº† 3 ä¸ªéª°å­ï¼Œå¾—åˆ°äº† 5ã€4 å’Œ 1ã€‚
```

### è¿œç¨‹å’Œèº«ä»½éªŒè¯æœåŠ¡å™¨

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `stdio` ä¼ è¾“è¿æ¥åˆ°æœ¬åœ°æœåŠ¡å™¨ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ FastMCP å®¢æˆ·ç«¯ï¼Œæ‚¨è¿˜å¯ä»¥è¿æ¥åˆ°ä»»ä½•æœ¬åœ°æˆ–è¿œç¨‹ MCP æœåŠ¡å™¨ï¼Œä½¿ç”¨ FastMCP æ”¯æŒçš„ä»»ä½•[ä¼ è¾“](/zh/clients/transports)æˆ–[èº«ä»½éªŒè¯](/zh/clients/auth)æ–¹æ³•ï¼Œåªéœ€æ›´æ”¹å®¢æˆ·ç«¯é…ç½®å³å¯ã€‚

ä¾‹å¦‚ï¼Œè¦è¿æ¥åˆ°è¿œç¨‹çš„ç»è¿‡èº«ä»½éªŒè¯çš„æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å®¢æˆ·ç«¯ï¼š

```python
from fastmcp import Client
from fastmcp.client.auth import BearerAuth

mcp_client = Client(
    "https://my-server.com/mcp/",
    auth=BearerAuth("<your-token>"),
)
```

å…¶ä½™ä»£ç ä¿æŒä¸å˜ã€‚


