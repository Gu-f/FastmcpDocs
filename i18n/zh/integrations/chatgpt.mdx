---
title: ChatGPT ğŸ¤ FastMCP
sidebarTitle: ChatGPT
description: å°† FastMCP æœåŠ¡å™¨è¿æ¥åˆ° ChatGPT Deep Research
icon: message-smile

---

ChatGPT é€šè¿‡è¿œç¨‹ HTTP è¿æ¥æ”¯æŒ MCP æœåŠ¡å™¨ï¼Œå…è®¸æ‚¨ä½¿ç”¨ FastMCP æœåŠ¡å™¨çš„è‡ªå®šä¹‰å·¥å…·å’ŒçŸ¥è¯†æ‰©å±• ChatGPT çš„åŠŸèƒ½ã€‚

<Note>
ChatGPT çš„ MCP é›†æˆç›®å‰ä»…é™äº **Deep Research** åŠŸèƒ½ï¼Œä¸é€‚ç”¨äºä¸€èˆ¬èŠå¤©ã€‚æ­¤åŠŸèƒ½é€‚ç”¨äº ChatGPT Proã€Teamã€Enterprise å’Œ Edu ç”¨æˆ·ã€‚
</Note>

<Tip>
OpenAI å®˜æ–¹çš„ MCP æ–‡æ¡£å’Œç¤ºä¾‹æ˜¯ç”¨ **FastMCP v2** æ„å»ºçš„ï¼æŸ¥çœ‹ä»–ä»¬çš„[ç®€å• Deep Research é£æ ¼ MCP æœåŠ¡å™¨ç¤ºä¾‹](https://github.com/openai/sample-deep-research-mcp)ä»¥è·å¾—ä¸æœ¬æ–‡æ¡£ç±»ä¼¼çš„å¿«é€Ÿå‚è€ƒï¼Œæˆ–è€…æŸ¥çœ‹ OpenAI Cookbook ä¸­[æ›´å®Œæ•´çš„ Deep Research ç¤ºä¾‹](https://github.com/openai/openai-cookbook/tree/main/examples/deep_research_api/how_to_build_a_deep_research_mcp_server)ï¼Œå…¶ä¸­åŒ…æ‹¬å‘é‡æœç´¢ç­‰åŠŸèƒ½ã€‚
</Tip>

## æ·±åº¦æ€è€ƒåŠŸèƒ½(Deep Research)

ChatGPT çš„ Deep Research åŠŸèƒ½è¦æ±‚ MCP æœåŠ¡å™¨æ˜¯å¯é€šè¿‡äº’è”ç½‘è®¿é—®çš„ HTTP ç«¯ç‚¹ï¼Œå¹¶åŒ…å«**æ°å¥½ä¸¤ä¸ªç‰¹å®šå·¥å…·**ï¼š

- **`search`**ï¼šç”¨äºæœç´¢æ‚¨çš„èµ„æºå¹¶è¿”å›åŒ¹é…çš„ ID
- **`fetch`**ï¼šç”¨äºé€šè¿‡ ID æ£€ç´¢ç‰¹å®šèµ„æºçš„å®Œæ•´å†…å®¹

<Warning>
å¦‚æœæ‚¨çš„æœåŠ¡å™¨æ²¡æœ‰å®ç°å…·æœ‰æ­£ç¡®ç­¾åçš„ `search` å’Œ `fetch` å·¥å…·ï¼ŒChatGPT å°†æ˜¾ç¤ºé”™è¯¯ï¼š"This MCP server doesn't implement our specification"ã€‚ä¸¤ä¸ªå·¥å…·éƒ½æ˜¯å¿…éœ€çš„ã€‚
</Warning>

### å·¥å…·æè¿°å¾ˆé‡è¦

ç”±äº ChatGPT éœ€è¦äº†è§£å¦‚ä½•æœ‰æ•ˆä½¿ç”¨æ‚¨çš„å·¥å…·ï¼Œ**è¯·ç¼–å†™è¯¦ç»†çš„å·¥å…·æè¿°**ã€‚æè¿°æ•™ä¼š ChatGPT å¦‚ä½•å½¢æˆæŸ¥è¯¢ã€ä½¿ç”¨ä»€ä¹ˆå‚æ•°ä»¥åŠä»æ‚¨çš„æ•°æ®ä¸­æœŸæœ›ä»€ä¹ˆã€‚ç³Ÿç³•çš„æè¿°ä¼šå¯¼è‡´ç³Ÿç³•çš„æœç´¢ç»“æœã€‚

### åˆ›å»ºæœåŠ¡å™¨

ä¸ Deep Research å…¼å®¹çš„æœåŠ¡å™¨å¿…é¡»å®ç°è¿™ä¸¤ä¸ªå¿…éœ€çš„å·¥å…·ï¼š

- **`search(query: str)`** - æ¥å—ä»»ä½•ç±»å‹çš„æŸ¥è¯¢å¹¶è¿”å›åŒ¹é…çš„è®°å½• ID
- **`fetch(id: str)`** - æ¥å— ID å¹¶è¿”å›è®°å½•

**å…³é”®**ï¼šä¸ºä¸¤ä¸ªå·¥å…·ç¼–å†™è¯¦ç»†çš„æ–‡æ¡£å­—ç¬¦ä¸²ã€‚è¿™äº›æè¿°æ•™ä¼š ChatGPT å¦‚ä½•æœ‰æ•ˆä½¿ç”¨æ‚¨çš„å·¥å…·ã€‚ç³Ÿç³•çš„æè¿°ä¼šå¯¼è‡´ç³Ÿç³•çš„æœç´¢ç»“æœã€‚

`search` å·¥å…·åº”è¯¥æ¥å—æŸ¥è¯¢ï¼ˆä»»ä½•ç±»å‹çš„ï¼ï¼‰å¹¶è¿”å› IDã€‚`fetch` å·¥å…·åº”è¯¥æ¥å— ID å¹¶è¿”å›è®°å½•ã€‚

ä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥è°ƒæ•´çš„å‚è€ƒæœåŠ¡å™¨å®ç°ï¼ˆå¦è¯·å‚é˜… [OpenAI çš„ç¤ºä¾‹æœåŠ¡å™¨](https://github.com/openai/sample-deep-research-mcp) è¿›è¡Œæ¯”è¾ƒï¼‰ï¼š

```python server.py [expandable]
import json
from pathlib import Path
from dataclasses import dataclass
from fastmcp import FastMCP

@dataclass
class Record:
    id: str
    title: str
    text: str
    metadata: dict

def create_server(
    records_path: Path | str,
    name: str | None = None,
    instructions: str | None = None,
) -> FastMCP:
    """åˆ›å»ºä¸€ä¸ªåä¸ºâ€œFastMCPâ€çš„æœåŠ¡å™¨ï¼Œè¯¥æœåŠ¡å™¨èƒ½å¤Ÿä»ä¸€ä¸ª JSON æ–‡ä»¶ä¸­æœç´¢å¹¶è·å–è®°å½•ã€‚"""
    records = json.loads(Path(records_path).read_text())

    RECORDS = [Record(**r) for r in records]
    LOOKUP = {r.id: r for r in RECORDS}

    mcp = FastMCP(name=name or "Deep Research MCP", instructions=instructions)

    @mcp.tool()
    async def search(query: str):
        """
        å¯¹æ ‡é¢˜ã€æ–‡æœ¬å’Œå…ƒæ•°æ®è¿›è¡Œç®€å•çš„æ— åºå…³é”®è¯æœç´¢ã€‚
        åœ¨è®°å½•å†…å®¹ä¸­æœç´¢ä»»æ„æŸ¥è¯¢è¯ã€‚
        è¿”å›åŒ¹é…è®°å½•çš„ ID åˆ—è¡¨ï¼Œä»¥ä¾¿ ChatGPT è·å–ã€‚
        """
        toks = query.lower().split()
        ids = []
        for r in RECORDS:
            record_txt = " ".join(
                [r.title, r.text, " ".join(r.metadata.values())]
            ).lower()
            if any(t in record_txt for t in toks):
                ids.append(r.id)

        return {"ids": ids}

    @mcp.tool()
    async def fetch(id: str):
        """
        æ ¹æ® ID è·å–ä¸€æ¡è®°å½•ã€‚
        è¿”å›å®Œæ•´çš„è®°å½•æ•°æ®ï¼Œä»¥ä¾¿ ChatGPT è¿›è¡Œåˆ†æå’Œå¼•ç”¨ã€‚
        """
        if id not in LOOKUP:
            raise ValueError(f"æœªçŸ¥çš„è®°å½• ID: {id}")
        return LOOKUP[id]

    return mcp

if __name__ == "__main__":
    mcp = create_server("path/to/records.json")
    mcp.run(transport="http", port=8000)
```

### éƒ¨ç½²æœåŠ¡å™¨

æ‚¨çš„æœåŠ¡å™¨å¿…é¡»éƒ¨ç½²åˆ°å…¬å…± URLï¼Œä»¥ä¾¿ ChatGPT è®¿é—®å®ƒã€‚

å¯¹äºå¼€å‘ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `ngrok` ç­‰å·¥å…·ä¸´æ—¶å°†æœ¬åœ°è¿è¡Œçš„æœåŠ¡å™¨æš´éœ²åˆ°äº’è”ç½‘ã€‚æˆ‘ä»¬å°†åœ¨æ­¤ç¤ºä¾‹ä¸­è¿™æ ·åšï¼ˆæ‚¨å¯èƒ½éœ€è¦å®‰è£… `ngrok` å¹¶åˆ›å»ºä¸€ä¸ªå…è´¹è´¦æˆ·ï¼‰ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–æ–¹æ³•æ¥éƒ¨ç½²æ‚¨çš„æœåŠ¡å™¨ã€‚

å‡è®¾æ‚¨å°†ä¸Šè¿°ä»£ç ä¿å­˜ä¸º `server.py`ï¼Œæ‚¨å¯ä»¥åœ¨ä¸¤ä¸ªå•ç‹¬çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤æ¥éƒ¨ç½²æ‚¨çš„æœåŠ¡å™¨å¹¶å°†å…¶æš´éœ²åˆ°äº’è”ç½‘ï¼š

<CodeGroup>
```bash FastMCP server
python server.py
```

```bash ngrok
ngrok http 8000
```
</CodeGroup>

<Warning>
è¿™ä¼šå°†æ‚¨çš„æœªè®¤è¯æœåŠ¡å™¨æš´éœ²åˆ°äº’è”ç½‘ã€‚å¦‚æœæ‚¨äº†è§£é£é™©ï¼Œåªèƒ½åœ¨å®‰å…¨ç¯å¢ƒä¸­è¿è¡Œæ­¤å‘½ä»¤ã€‚
</Warning>

### è¿æ¥åˆ° ChatGPT

å°† `https://your-server-url.com` æ›¿æ¢ä¸ºæ‚¨æœåŠ¡å™¨çš„å®é™… URLï¼ˆä¾‹å¦‚æ‚¨çš„ ngrok URLï¼‰ã€‚

1. æ‰“å¼€ ChatGPT å¹¶è½¬åˆ° **Settings** â†’ **Connectors**
2. ç‚¹å‡» **Add custom connector**
3. è¾“å…¥æ‚¨çš„æœåŠ¡å™¨è¯¦ç»†ä¿¡æ¯ï¼š
   - **Name**: Library Catalog
   - **URL**: æ‚¨çš„æœåŠ¡å™¨ URLï¼ŒåŒ…æ‹¬è·¯å¾„ã€‚
        - **æ³¨æ„**ï¼šç¡®ä¿æ‚¨çš„ URL åŒ…å«æ‚¨ä½¿ç”¨çš„ä¼ è¾“çš„æ­£ç¡®è·¯å¾„ã€‚é»˜è®¤å€¼æ˜¯ SSE çš„ /sse/ï¼ˆä¾‹å¦‚ï¼Œhttps://abc123.ngrok.io/sse/ï¼‰å’Œ HTTP çš„ /mcp/ï¼ˆä¾‹å¦‚ï¼Œhttps://abc123.ngrok.io/mcp/ï¼‰ã€‚
   - **Description**: A library catalog for searching and retrieving books

#### æµ‹è¯•è¿æ¥

1. åœ¨ ChatGPT ä¸­å¼€å§‹æ–°èŠå¤©
2. ç‚¹å‡» **Tools** â†’ **Run deep research** 
3. é€‰æ‹©æ‚¨çš„ **Library Catalog** è¿æ¥å™¨ä½œä¸ºæº
4. é—®ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ï¼š
   - "æœç´¢ Python ç¼–ç¨‹ä¹¦ç±"
   - "æŸ¥æ‰¾å…³äº AI å’Œæœºå™¨å­¦ä¹ çš„ä¹¦ç±"
   - "æ˜¾ç¤º Python Software Foundation çš„ä¹¦ç±"

ChatGPT å°†ä½¿ç”¨æ‚¨æœåŠ¡å™¨çš„æœç´¢å’Œè·å–å·¥å…·æ¥æŸ¥æ‰¾ç›¸å…³ä¿¡æ¯ï¼Œå¹¶åœ¨å…¶å›å¤ä¸­å¼•ç”¨æ¥æºã€‚

### æ•…éšœæ’é™¤

#### "This MCP server doesn't implement our specification"


å¦‚æœæ‚¨æ”¶åˆ°æ­¤é”™è¯¯ï¼Œå¾ˆå¯èƒ½æ˜¯å› ä¸ºæ‚¨çš„æœåŠ¡å™¨æ²¡æœ‰å®ç°æ‰€éœ€çš„å·¥å…·ï¼ˆ`search` å’Œ `fetch`ï¼‰ã€‚è¦çº æ­£æ­¤é—®é¢˜ï¼Œè¯·ç¡®ä¿æ‚¨çš„æœåŠ¡å™¨æ»¡è¶³æœåŠ¡è¦æ±‚ã€‚