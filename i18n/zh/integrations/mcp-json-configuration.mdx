---
title: MCP JSON é…ç½®æ–‡ä»¶ ğŸ¤ FastMCP
sidebarTitle: MCP.json
description: ä¸ºä»»ä½•å…¼å®¹çš„å®¢æˆ·ç«¯ç”Ÿæˆæ ‡å‡† MCP é…ç½®æ–‡ä»¶
icon: brackets-curly
tag: NEW
---

import { VersionBadge } from "/snippets/version-badge.mdx"

<VersionBadge version="2.10.3" />

FastMCP å¯ä»¥ç”Ÿæˆæ ‡å‡†çš„ MCP JSON é…ç½®æ–‡ä»¶ï¼Œé€‚ç”¨äºä»»ä½•å…¼å®¹ MCP çš„å®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬ Claude Desktopã€VS Codeã€Cursor ä»¥åŠå…¶ä»–æ”¯æŒæ¨¡å‹ä¸Šä¸‹æ–‡åè®®çš„åº”ç”¨ç¨‹åºã€‚

## MCP JSON é…ç½®æ ‡å‡†

MCP JSON é…ç½®æ ¼å¼æ˜¯åœ¨ MCP ç”Ÿæ€ç³»ç»Ÿä¸­å‘å±•èµ·æ¥çš„**æ–°å…´æ ‡å‡†**ã€‚æ­¤æ ¼å¼å®šä¹‰äº† MCP å®¢æˆ·ç«¯åº”å¦‚ä½•é…ç½®å’Œå¯åŠ¨ MCP æœåŠ¡å™¨ï¼Œæä¾›äº†æŒ‡å®šæœåŠ¡å™¨å‘½ä»¤ã€å‚æ•°å’Œç¯å¢ƒå˜é‡çš„ä¸€è‡´æ–¹å¼ã€‚

### é…ç½®ç»“æ„

æ ‡å‡†ä½¿ç”¨ `mcpServers` å¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªé”®ä»£è¡¨æœåŠ¡å™¨åç§°ï¼Œå€¼åŒ…å«æœåŠ¡å™¨çš„é…ç½®ï¼š

```json
{
  "mcpServers": {
    "server-name": {
      "command": "executable",
      "args": ["arg1", "arg2"],
      "env": {
        "VAR": "value"
      }
    }
  }
}
```

### æœåŠ¡å™¨é…ç½®å­—æ®µ

#### `command`ï¼ˆå¿…éœ€ï¼‰
è¿è¡Œ MCP æœåŠ¡å™¨çš„å¯æ‰§è¡Œå‘½ä»¤ã€‚è¿™åº”è¯¥æ˜¯ç»å¯¹è·¯å¾„æˆ–ç³»ç»Ÿ PATH ä¸­å¯ç”¨çš„å‘½ä»¤ã€‚

```json
{
  "command": "python"
}
```

#### `args`ï¼ˆå¯é€‰ï¼‰
ä¼ é€’ç»™æœåŠ¡å™¨å¯æ‰§è¡Œæ–‡ä»¶çš„å‘½ä»¤è¡Œå‚æ•°æ•°ç»„ã€‚å‚æ•°æŒ‰é¡ºåºä¼ é€’ã€‚

```json
{
  "args": ["server.py", "--verbose", "--port", "8080"]
}
```

#### `env`ï¼ˆå¯é€‰ï¼‰
åŒ…å«å¯åŠ¨æœåŠ¡å™¨æ—¶è¦è®¾ç½®çš„ç¯å¢ƒå˜é‡çš„å¯¹è±¡ã€‚æ‰€æœ‰å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚

```json
{
  "env": {
    "API_KEY": "secret-key",
    "DEBUG": "true",
    "PORT": "8080"
  }
}
```

### å®¢æˆ·ç«¯é‡‡ç”¨

æ­¤æ ¼å¼åœ¨ MCP ç”Ÿæ€ç³»ç»Ÿä¸­è¢«å¹¿æ³›é‡‡ç”¨ï¼š

- **Claude Desktop**ï¼šä½¿ç”¨ `~/.claude/claude_desktop_config.json`
- **Cursor**ï¼šä½¿ç”¨ `~/.cursor/mcp.json`
- **VS Code**ï¼šä½¿ç”¨å·¥ä½œåŒº `.vscode/mcp.json`
- **å…¶ä»–å®¢æˆ·ç«¯**ï¼šè®¸å¤šå…¼å®¹ MCP çš„åº”ç”¨ç¨‹åºéƒ½éµå¾ªæ­¤æ ‡å‡†

## æ¦‚è¿°

<Note>
**ä¸ºäº†è·å¾—æœ€ä½³ä½“éªŒï¼Œè¯·ä½¿ç”¨ FastMCP çš„ä¸€æµé›†æˆï¼š** [`fastmcp install claude-code`](/zh/integrations/claude-code)ã€[`fastmcp install claude-desktop`](/zh/integrations/claude-desktop) æˆ– [`fastmcp install cursor`](/zh/integrations/cursor)ã€‚å¯¹äºé«˜çº§ç”¨ä¾‹å’Œä¸æ”¯æŒçš„å®¢æˆ·ç«¯ï¼Œè¯·ä½¿ç”¨ MCP JSON ç”Ÿæˆã€‚
</Note>

`fastmcp install mcp-json` å‘½ä»¤ç”Ÿæˆ MCP ç”Ÿæ€ç³»ç»Ÿä¸­ä½¿ç”¨çš„æ ‡å‡† `mcpServers` æ ¼å¼çš„é…ç½®ã€‚è¿™åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ï¼š

- **ä½¿ç”¨ä¸æ”¯æŒçš„å®¢æˆ·ç«¯** - ä»»ä½•æœªç›´æ¥ä¸ FastMCP é›†æˆçš„ MCP å®¢æˆ·ç«¯
- **CI/CD ç¯å¢ƒ** - ä¸ºéƒ¨ç½²è‡ªåŠ¨ç”Ÿæˆé…ç½®
- **é…ç½®å…±äº«** - è½»æ¾å‘å›¢é˜Ÿæˆå‘˜åˆ†å‘æœåŠ¡å™¨è®¾ç½®
- **è‡ªå®šä¹‰å·¥å…·** - ä¸æ‚¨è‡ªå·±çš„ MCP ç®¡ç†å·¥å…·é›†æˆ
- **æ‰‹åŠ¨è®¾ç½®** - å½“æ‚¨å¸Œæœ›æ‰‹åŠ¨é…ç½® MCP å®¢æˆ·ç«¯æ—¶

## åŸºæœ¬ç”¨æ³•

ç”Ÿæˆé…ç½®å¹¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆé€‚ç”¨äºç®¡é“æ“ä½œï¼‰ï¼š

```bash
fastmcp install mcp-json server.py
```

è¿™å°†è¾“å‡ºä»¥æœåŠ¡å™¨åç§°ä½œä¸ºæ ¹é”®çš„æœåŠ¡å™¨é…ç½® JSONï¼š

```json
{
  "My Server": {
    "command": "uv",
    "args": [
      "run",
      "--with",
      "fastmcp", 
      "fastmcp",
      "run",
      "/absolute/path/to/server.py"
    ]
  }
}
```

è¦åœ¨å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ­¤é…ç½®ï¼Œè¯·å°†å…¶æ·»åŠ åˆ°å®¢æˆ·ç«¯é…ç½®ä¸­çš„ `mcpServers` å¯¹è±¡ï¼š

```json
{
  "mcpServers": {
    "My Server": {
      "command": "uv",
      "args": [
        "run",
        "--with",
        "fastmcp", 
        "fastmcp",
        "run",
        "/absolute/path/to/server.py"
      ]
    }
  }
}
```

<Note>
ä½¿ç”¨ `--python`ã€`--project` æˆ– `--with-requirements` æ—¶ï¼Œç”Ÿæˆçš„é…ç½®å°†åœ¨ `uv run` å‘½ä»¤ä¸­åŒ…å«è¿™äº›é€‰é¡¹ï¼Œç¡®ä¿æ‚¨çš„æœåŠ¡å™¨ä½¿ç”¨æ­£ç¡®çš„ Python ç‰ˆæœ¬å’Œä¾èµ–ã€‚
</Note>

<Note>
ä¸åŒçš„ MCP å®¢æˆ·ç«¯å¯èƒ½æœ‰ç‰¹å®šçš„é…ç½®è¦æ±‚æˆ–æ ¼å¼éœ€æ±‚ã€‚å§‹ç»ˆæŸ¥é˜…æ‚¨å®¢æˆ·ç«¯çš„æ–‡æ¡£ä»¥ç¡®ä¿æ­£ç¡®é›†æˆã€‚
</Note>

## é…ç½®é€‰é¡¹

### æœåŠ¡å™¨å‘½å

```bash
# ä½¿ç”¨æœåŠ¡å™¨çš„å†…ç½®åç§°ï¼ˆæ¥è‡ª FastMCP æ„é€ å‡½æ•°ï¼‰
fastmcp install mcp-json server.py

# ä½¿ç”¨è‡ªå®šä¹‰åç§°è¦†ç›–
fastmcp install mcp-json server.py --name "è‡ªå®šä¹‰æœåŠ¡å™¨åç§°"
```

### ä¾èµ–

æ·»åŠ æ‚¨çš„æœåŠ¡å™¨éœ€è¦çš„ Python åŒ…ï¼š

```bash
# å•ä¸ªåŒ…
fastmcp install mcp-json server.py --with pandas

# å¤šä¸ªåŒ…
fastmcp install mcp-json server.py --with pandas --with requests --with httpx

# å¯ç¼–è¾‘çš„æœ¬åœ°åŒ…
fastmcp install mcp-json server.py --with-editable ./my-package

# ä»éœ€æ±‚æ–‡ä»¶
fastmcp install mcp-json server.py --with-requirements requirements.txt
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ªåä¸º `fastmcp.json` çš„é…ç½®æ–‡ä»¶ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼š

```json fastmcp.json
{
  "$schema": "https://gofastmcp.com/schemas/fastmcp_config/v1.json",
  "entrypoint": {
    "file": "server.py",
    "object": "mcp"
  },
  "environment": {
    "dependencies": ["pandas", "matplotlib", "seaborn"]
  }
}
```

Then simply install with:
```bash
fastmcp install mcp-json fastmcp.json
```


### ç¯å¢ƒå˜é‡

```bash
# å•ä¸ªç¯å¢ƒå˜é‡
fastmcp install mcp-json server.py \
  --env API_KEY=your-secret-key \
  --env DEBUG=true

# ä» .env æ–‡ä»¶åŠ è½½
fastmcp install mcp-json server.py --env-file .env
```

### Python ç‰ˆæœ¬å’Œé¡¹ç›®ç›®å½•

æŒ‡å®š Python ç‰ˆæœ¬æˆ–åœ¨ç‰¹å®šé¡¹ç›®ä¸­è¿è¡Œï¼š

```bash
# ä½¿ç”¨ç‰¹å®šçš„ Python ç‰ˆæœ¬
fastmcp install mcp-json server.py --python 3.11

# åœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œ
fastmcp install mcp-json server.py --project /path/to/project
```

### æœåŠ¡å™¨å¯¹è±¡é€‰æ‹©

ä½¿ç”¨ä¸å…¶ä»– FastMCP å‘½ä»¤ç›¸åŒçš„ `file.py:object` è¡¨ç¤ºæ³•ï¼š

```bash
# è‡ªåŠ¨æ£€æµ‹æœåŠ¡å™¨å¯¹è±¡ï¼ˆæŸ¥æ‰¾ 'mcp'ã€'server' æˆ– 'app'ï¼‰
fastmcp install mcp-json server.py

# æ˜ç¡®çš„æœåŠ¡å™¨å¯¹è±¡
fastmcp install mcp-json server.py:my_custom_server
```

## å‰ªè´´æ¿é›†æˆ

å°†é…ç½®ç›´æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ä»¥ä¾¿è½»æ¾ç²˜è´´ï¼š

```bash
fastmcp install mcp-json server.py --copy
```

<Note>
`--copy` æ ‡å¿—éœ€è¦å®‰è£… `pyperclip` è¿™ä¸ª Python åŒ…ã€‚å¦‚æœæ²¡æœ‰å®‰è£…è¯¥åŒ…ï¼Œæ‚¨å°†ä¼šçœ‹åˆ°ä¸€æ¡åŒ…å«å®‰è£…è¯´æ˜çš„é”™è¯¯æ¶ˆæ¯ã€‚
</Note>

## ä½¿ç”¨æ ·ä¾‹

### åŸºç¡€æœåŠ¡

```bash
fastmcp install mcp-json dice_server.py
```

è¾“å‡ºï¼š
```json
{
  "Dice Server": {
    "command": "uv",
    "args": [
      "run",
      "--with",
      "fastmcp",
      "fastmcp", 
      "run",
      "/home/user/dice_server.py"
    ]
  }
}
```

### åŒ…å«ä¾èµ–é¡¹çš„ç”Ÿäº§æœåŠ¡å™¨

```bash
fastmcp install mcp-json api_server.py \
  --name "Production API Server" \
  --with requests \
  --with python-dotenv \
  --env API_BASE_URL=https://api.example.com \
  --env TIMEOUT=30
```

### é«˜çº§é…ç½®

```bash
fastmcp install mcp-json ml_server.py \
  --name "ML Analysis Server" \
  --python 3.11 \
  --with-requirements requirements.txt \
  --project /home/user/ml-project \
  --env GPU_DEVICE=0
```

è¾“å‡ºï¼š
```json
{
  "Production API Server": {
    "command": "uv",
    "args": [
      "run",
      "--with",
      "fastmcp",
      "--with",
      "python-dotenv", 
      "--with",
      "requests",
      "fastmcp",
      "run", 
      "/home/user/api_server.py"
    ],
    "env": {
      "API_BASE_URL": "https://api.example.com",
      "TIMEOUT": "30"
    }
  }
}
```

é«˜çº§é…ç½®ç¤ºä¾‹ç”Ÿæˆï¼š
```json
{
  "ML Analysis Server": {
    "command": "uv",
    "args": [
      "run",
      "--python",
      "3.11",
      "--project",
      "/home/user/ml-project",
      "--with",
      "fastmcp",
      "--with-requirements",
      "requirements.txt",
      "fastmcp",
      "run",
      "/home/user/ml_server.py"
    ],
    "env": {
      "GPU_DEVICE": "0"
    }
  }
}
```

### ç®¡é“ç”¨æ³•

å°†é…ç½®ä¿å­˜åˆ°æ–‡ä»¶ï¼š

```bash
fastmcp install mcp-json server.py > mcp-config.json
```

åœ¨ shell è„šæœ¬ä¸­ä½¿ç”¨ï¼š

```bash
#!/bin/bash
CONFIG=$(fastmcp install mcp-json server.py --name "CI æœåŠ¡å™¨")
echo "$CONFIG" | jq '."CI æœåŠ¡å™¨".command'
# è¾“å‡ºï¼š "uv"
```

## ä¸ MCP å®¢æˆ·ç«¯é›†æˆ

ç”Ÿæˆçš„é…ç½®é€‚ç”¨äºä»»ä½•å…¼å®¹ MCP çš„åº”ç”¨ç¨‹åºï¼š

### Claude Desktop
<Note>
**é¦–é€‰ [`fastmcp install claude-desktop`](/zh/integrations/claude-desktop)** è¿›è¡Œè‡ªåŠ¨å®‰è£…ã€‚å¯¹äºé«˜çº§é…ç½®éœ€æ±‚ï¼Œè¯·ä½¿ç”¨ MCP JSONã€‚
</Note>
å°† `mcpServers` å¯¹è±¡å¤åˆ¶åˆ° `~/.claude/claude_desktop_config.json`

### Cursor
<Note>
**é¦–é€‰ [`fastmcp install cursor`](/zh/integrations/cursor)** è¿›è¡Œè‡ªåŠ¨å®‰è£…ã€‚å¯¹äºé«˜çº§é…ç½®éœ€æ±‚ï¼Œè¯·ä½¿ç”¨ MCP JSONã€‚
</Note>
æ·»åŠ åˆ° `~/.cursor/mcp.json`

### VS Code
æ·»åŠ åˆ°æ‚¨å·¥ä½œåŒºçš„ `.vscode/mcp.json` æ–‡ä»¶

### è‡ªå®šä¹‰åº”ç”¨ç¨‹åº
å°† JSON é…ç½®ä¸ä»»ä½•æ”¯æŒ MCP åè®®çš„åº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨

## é…ç½®æ ¼å¼

ç”Ÿæˆçš„é…ç½®è¾“å‡ºä¸€ä¸ªä»¥æœåŠ¡å™¨åç§°ä½œä¸ºæ ¹é”®çš„æœåŠ¡å™¨å¯¹è±¡ï¼š

```json
{
  "<server-name>": {
    "command": "<executable>",
    "args": ["<arg1>", "<arg2>", "..."],
    "env": {
      "<ENV_VAR>": "<value>"
    }
  }
}
```

è¦åœ¨ MCP å®¢æˆ·ç«¯ä¸­ä½¿ç”¨æ­¤é…ç½®ï¼Œè¯·å°†å…¶æ·»åŠ åˆ°å®¢æˆ·ç«¯çš„ `mcpServers` é…ç½®å¯¹è±¡ã€‚

**å­—æ®µï¼š**
- `command`ï¼šè¦è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¯¹äº FastMCP æœåŠ¡å™¨å§‹ç»ˆä¸º `uv`ï¼‰
- `args`ï¼šåŒ…æ‹¬ä¾èµ–å’ŒæœåŠ¡å™¨è·¯å¾„çš„å‘½ä»¤è¡Œå‚æ•°
- `env`ï¼šç¯å¢ƒå˜é‡ï¼ˆä»…åœ¨æŒ‡å®šæ—¶åŒ…å«ï¼‰

<Warning>
**ç”Ÿæˆçš„é…ç½®ä¸­çš„æ‰€æœ‰æ–‡ä»¶è·¯å¾„éƒ½æ˜¯ç»å¯¹è·¯å¾„**ã€‚è¿™ç¡®ä¿é…ç½®ä¸ç®¡ MCP å®¢æˆ·ç«¯å¯åŠ¨æœåŠ¡å™¨æ—¶çš„å·¥ä½œç›®å½•å¦‚ä½•éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚
</Warning>

## è¦æ±‚

- **uv**ï¼šå¿…é¡»å®‰è£…å¹¶åœ¨ç³»ç»Ÿ PATH ä¸­å¯ç”¨
- **pyperclip**ï¼ˆå¯é€‰ï¼‰ï¼šä»…å¯¹ `--copy` åŠŸèƒ½å¿…éœ€

å¦‚æœå°šæœªå®‰è£… uvï¼Œè¯·å®‰è£…ï¼š

```bash
# macOS
brew install uv

# Linux/Windows
curl -LsSf https://astral.sh/uv/install.sh | sh
```