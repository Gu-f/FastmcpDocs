---
title: 快速开始
icon: rocket-launch
---

欢迎使用！本指南将帮助您快速设置 FastMCP，运行您的第一个 MCP 服务器，并将服务器部署到 FastMCP Cloud。

如果您还没有安装 FastMCP，请按照[安装说明](/zh/getting-started/installation)进行操作。

## 创建 FastMCP 服务器

FastMCP 服务器是工具、资源和其他 MCP 组件的集合。要创建服务器，首先需要实例化 `FastMCP` 类。

创建一个名为 `my_server.py` 的新文件并添加以下代码：

```python my_server.py
from fastmcp import FastMCP

mcp = FastMCP("My MCP Server")
```


就是这样！您已经创建了一个 FastMCP 服务器，尽管它还很简单。让我们添加一个工具来使其更有趣。


## 添加工具

要添加一个返回简单问候语的工具，请编写一个函数并使用 `@mcp.tool` 装饰器将其注册到服务器：

```python my_server.py {5-7}
from fastmcp import FastMCP

mcp = FastMCP("My MCP Server")

@mcp.tool
def greet(name: str) -> str:
    return f"Hello, {name}!"
```


## 运行服务器

运行 FastMCP 服务器的最简单方法是调用其 `run()` 方法。您可以选择不同的传输方式，例如用于本地服务器的 `stdio`，或用于远程访问的 `http`：

<CodeGroup>

```python my_server.py (stdio) {9, 10}
from fastmcp import FastMCP

mcp = FastMCP("My MCP Server")

@mcp.tool
def greet(name: str) -> str:
    return f"Hello, {name}!"

if __name__ == "__main__":
    mcp.run()
```

```python my_server.py (HTTP) {9, 10}
from fastmcp import FastMCP

mcp = FastMCP("My MCP Server")

@mcp.tool
def greet(name: str) -> str:
    return f"Hello, {name}!"

if __name__ == "__main__":
    mcp.run(transport="http", port=8000)
```

</CodeGroup>

这样我们就可以使用 `python my_server.py` 来运行服务器。stdio 传输是连接 MCP 服务器和客户端的传统方式，而 HTTP 传输则支持远程连接。

<Tip>
为什么我们需要 `if __name__ == "__main__":` 代码块？

建议使用 `__main__` 代码块以确保一致性和兼容性，确保您的服务器能与所有将服务器文件作为脚本执行的 MCP 客户端正常工作。仅使用 FastMCP CLI 运行服务器的用户可以省略它，因为 CLI 会直接导入服务器对象。
</Tip>

### 使用 FastMCP CLI

您也可以使用 `fastmcp run` 命令来启动服务器。请注意，FastMCP CLI **不会**执行服务器文件的 `__main__` 代码块。相反，它会导入您的服务器对象并使用您提供的传输和选项来运行它。

例如，要使用默认的 stdio 传输运行此服务器（无论您如何调用 `mcp.run()`），可以使用以下命令：
```bash
fastmcp run my_server.py:mcp
```

要使用 HTTP 传输运行此服务器，可以使用以下命令：
```bash
fastmcp run my_server.py:mcp --transport http --port 8000
```

## 调用您的服务器

一旦您的服务器使用 HTTP 传输运行，您就可以使用 FastMCP 客户端或任何支持 MCP 协议的 LLM 客户端连接到它：

```python my_client.py
import asyncio
from fastmcp import Client

client = Client("http://localhost:8000")

async def call_tool(name: str):
    async with client:
        result = await client.call_tool("greet", {"name": name})
        print(result)

asyncio.run(call_tool("Ford"))
```

请注意：
- FastMCP 客户端是异步的，因此我们需要使用 `asyncio.run` 来运行客户端
- 在使用客户端之前，我们必须进入客户端上下文（`async with client:`）
- 您可以在同一个上下文中进行多次客户端调用

## 部署到 FastMCP Cloud


[FastMCP Cloud](https://fastmcp.cloud) 是由 [Prefect](https://www.prefect.io/fastmcp) 的 FastMCP 团队运营的托管服务。它经过优化，可以尽可能快速地部署经过身份验证的 FastMCP 服务器，为您提供一个安全的 URL，您可以将其插入到任何 LLM 客户端中。

<Info>
请注意，FastMCP Cloud 是一项商业服务，但对于大多数个人服务器来说是完全免费的。
</Info>

要部署您的服务器，您需要一个 [GitHub 账户](https://github.com)。一旦您有了账户，您可以通过三个步骤部署您的服务器：

1. 将您的 `my_server.py` 文件推送到 GitHub 仓库
2. 使用您的 GitHub 账户登录 [FastMCP Cloud](https://fastmcp.cloud)
3. 从您的仓库创建一个新项目，并输入 `my_server.py:mcp` 作为服务器入口点

就是这样！FastMCP Cloud 将构建并部署您的服务器，使其在类似 `https://your-project.fastmcp.app/mcp` 的 URL 上可用。您可以与它聊天来测试其功能，或从任何支持 MCP 协议的 LLM 客户端连接到它。

有关更多详细信息，请参阅 [FastMCP Cloud 指南](/zh/deployment/fastmcp-cloud)。